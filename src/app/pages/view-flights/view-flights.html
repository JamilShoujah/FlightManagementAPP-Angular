<!-- src/app/pages/view-flights/view-flights.html -->

<div class="flights-container">
  <button class="back-link" (click)="goBack()">Back to Home</button>

  <header class="header-section">
    <div>
      <h2>ğŸ›¬ Ground Logistics & Catering</h2>
      <p>{{ filteredFlights.length }} active turnarounds</p>
    </div>

    <div class="controls-group">
      <div class="filter-toggle" (click)="toggleHideDeparted()" [class.active]="hideDeparted">
        Hide Departed
      </div>
      <div class="date-display">
        <span class="label">System Date</span>
        <span class="value">{{ today | date: 'fullDate' }}</span>
        <span class="time">{{ today | date: 'shortTime' }}</span>
      </div>
    </div>
  </header>

  <div class="table-wrapper">
    <table class="modern-table">
      <thead>
        <tr>
          <th>Airliner</th>
          <th>Plane Type</th>
          <th>Crew</th>
          <th>Seats</th>
          <th>Arrival</th>
          <th>Departure</th>
          <th>Time</th>
          <th>Catering</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let flight of filteredFlights" [class.row-departed]="isDeparted(flight)">
          <td>
            <div class="brand-cell">
              <span class="brand-name">{{ flight.brand }} âœˆï¸</span>
              <div *ngIf="isDeparted(flight)" class="departed-tag">Departed</div>
            </div>
          </td>
          <td>{{ flight.planeType }}</td>
          <td>{{ flight.crewCount }}</td>
          <td>{{ flight.seats }}</td>
          <td>{{ flight.arrivalDate }}</td>
          <td>{{ flight.departureDate }}</td>
          <td>{{ flight.departureTime }}</td>
          <td>
            <span class="status-pill" [ngClass]="flight.foodRequested ? 'status-yes' : 'status-no'">
              {{ flight.foodRequested ? 'ğŸ¥— Requested' : 'âŒ No Service' }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <button class="fab-button" (click)="openModal()">â•</button>
</div>
